(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["3daae69f"],{"30c7":function(t,e,a){"use strict";var i=a("f265"),s=a.n(i);s.a},"7bb7":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"smitad-page"},[a("TitleBar",{attrs:{titleTx:t.title}}),a("div",{staticClass:"smitad-block"},[a("div",{staticStyle:{display:"flex"}},[a("span",{staticStyle:{color:"#6f7d8e","font-size":"15px"}},[t._v(t._s(t.$t("buyprice"))+":")]),a("span",[a("span",{staticStyle:{color:"#44566B"}},[t._v(t._s(t.$route.query.dialogData.price))]),t._v(" \n        "),a("span",{staticStyle:{color:"#6f7d8e","font-size":"15px"}},[t._v("CNY/ETH")])])]),a("q-input",{attrs:{placeholder:t.$t("buyamt"),type:"number"},model:{value:t.buyAmount,callback:function(e){t.buyAmount=e},expression:"buyAmount"}}),a("div",{staticStyle:{color:"#6f7d8e","font-size":"15px","margin-top":"10px"}},[t._v(t._s(t.$t("payamt"))+": "+t._s(Number(t.buyAmount*t.$route.query.dialogData.price).toFixed(2)))]),a("div",{staticStyle:{display:"flex","margin-top":"5px"}},[a("span",{staticStyle:{color:"#6f7d8e","font-size":"15px"}},[t._v(t._s(t.$t("paymethod"))+":")]),a("img",{directives:[{name:"show",rawName:"v-show",value:""!==t.$route.query.dialogData.alipayno,expression:"$route.query.dialogData.alipayno!==''"}],staticStyle:{height:"20px","margin-left":"5px"},attrs:{src:"statics/alipays.png"}}),a("img",{directives:[{name:"show",rawName:"v-show",value:""!==t.$route.query.dialogData.cardno,expression:"$route.query.dialogData.cardno!==''"}],staticStyle:{height:"20px","margin-left":"5px"},attrs:{src:"statics/bankcards.png"}}),a("img",{directives:[{name:"show",rawName:"v-show",value:""!==t.$route.query.dialogData.weixin,expression:"$route.query.dialogData.weixin!==''"}],staticStyle:{height:"20px","margin-left":"5px"},attrs:{src:"statics/wepay.png"}})]),a("q-input",{attrs:{placeholder:t.$t("payaccount")},model:{value:t.payaccount,callback:function(e){t.payaccount=e},expression:"payaccount"}}),a("div",{staticStyle:{color:"#6f7d8e","font-size":"15px","margin-top":"5px"}},[t._v("\n      "+t._s(t.$t("remark"))+": \n      "),a("span",{staticStyle:{color:"red"}},[t._v(t._s(t.$route.query.dialogData.remarkNumber))])]),a("q-btn",{directives:[{name:"show",rawName:"v-show",value:!t.showcountDown&&!t.isTimeOut,expression:"!showcountDown&&!isTimeOut"}],staticStyle:{"align-self":"center",margin:"20px",width:"90%"},attrs:{rounded:"",color:"primary",label:t.$t("makeorder")},on:{click:t.makeorder}}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showcountDown&&!t.isTimeOut,expression:"showcountDown&&!isTimeOut"}],staticStyle:{"align-self":"center",display:"flex","flex-direction":"column"}},[a("img",{staticStyle:{width:"40px",height:"40px","align-self":"center","margin-top":"30px"},attrs:{src:"statics/alarm.png"}}),a("span",{staticStyle:{"align-self":"center",color:"green","font-size":"25px"}},[t._v(t._s(t.$t("countdown"))+t._s(t.countdown)+"S")]),a("span",{staticStyle:{"align-self":"center",color:"#6f7d8e","font-size":"13px"}},[t._v(t._s(t.$t("timeoutcanceltip")))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isTimeOut,expression:"isTimeOut"}],staticStyle:{"align-self":"center",display:"flex","flex-direction":"column"}},[a("img",{staticStyle:{width:"54px",height:"54px","align-self":"center","margin-top":"10px"},attrs:{src:"statics/tr-failed.png"}}),a("span",{staticStyle:{"align-self":"center",color:"red","font-size":"13px"}},[t._v(t._s(t.$t("alreadytimeouttip")))])])],1)],1)},s=[];i._withStripped=!0;a("c5f6");var o=a("9bfb"),r=(a("a002"),a("df7c"),{components:{TitleBar:o["a"]},data:function(){return{title:this.$t("buyeth"),buyAmount:"",payaccount:"",countdown:300,showcountDown:!1,isTimeOut:!1,orderBmobObjectId:""}},mounted:function(){},methods:{updateOrderStatus:function(){this.$axios.get(this.global.BmobRestAPIUrl+"classes/otcorder/"+this.orderBmobObjectId,{headers:this.global.BmobRestAPIHeaders}).then(function(t){t.status})},orderCountdown:function(){var t=this,e=this,a=setInterval(function(){t.countdown--,t.countdown%3===0&&e.updateOrderStatus(),0===t.countdown&&(console.log("cancel order"),clearInterval(a),e.isTimeOut=!0)},1e3)},makeorder:function(){if(this.buyAmount<this.$route.query.dialogData.singmin)toast(this.$t("orderless"));else if(this.buyAmount>this.global.config.otcsingMax)toast(this.$t("ordermore"));else if(""!==this.payaccount){var t=this.$route.query.dialogData.sellermobile,e=this;this.$q.loading.show({message:e.$t("txsubmiting"),spinnerSize:50}),this.$axios.post("http://127.0.0.1:7001/api/v1/otcorders",{buyer:this.global.wallet.ethAddress,seller:this.$route.query.dialogData.seller,amount:this.buyAmount,value:parseFloat(Number(this.buyAmount*this.$route.query.dialogData.price).toFixed(2)),status:"0",buy_price:parseFloat(this.$route.query.dialogData.price),seller_alipay_no:this.$route.query.dialogData.alipayno,seller_card_no:this.$route.query.dialogData.cardno,pay_account:this.payaccount,remark:this.$route.query.dialogData.remarkNumber,buyer_mobile:this.global.loginfo.mobile,seller_mobile:t,weixin_code_url:this.$route.query.dialogData.weixin,seller_actual_name:this.$route.query.dialogData.sellerActualName},{headers:{"access-token":"900a06ca65a211e98eae00163e11f2fe","Access-Control-Allow-Origin":"*"}}).then(function(t){e.$q.loading.hide(),console.log(t)})}else toast(this.$t("fillpayaccount"))},sendsmstips:function(t){this.$axios.post(this.global.BmobRestAPIUrl+"requestSmsCode",{mobilePhoneNumber:t+"",template:"tip1"},{headers:this.global.BmobRestAPIHeaders}).then(function(t){})}}}),n=r,l=(a("30c7"),a("2877")),c=Object(l["a"])(n,i,s,!1,null,"ef8c8fe0",null);c.options.__file="BuyETH.vue";e["default"]=c.exports},"9bfb":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title-bar"},[a("q-icon",{staticClass:"title-back-icon",attrs:{name:"navigate_before"},nativeOn:{click:function(e){return t.goBack(e)}}}),a("div",{staticClass:"title-tx"},[t._v(t._s(t.titleTx))])],1)},s=[];i._withStripped=!0;var o={props:["titleTx"],methods:{goBack:function(){this.$router.go(-1)}}},r=o,n=(a("a675"),a("2877")),l=Object(n["a"])(r,i,s,!1,null,null,null);l.options.__file="TitleBar.vue";e["a"]=l.exports},a675:function(t,e,a){"use strict";var i=a("ca51"),s=a.n(i);s.a},ca51:function(t,e,a){},f265:function(t,e,a){}}]);